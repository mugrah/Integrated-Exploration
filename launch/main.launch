<?xml version="1.0"?>
<launch>
    <arg name="world_file" default="$(find pioneer3at)/world/autolab_8.world"/>
    <arg name="rviz" default="false"/>
    <arg name="robot0" default="false" />
    <arg name="robot1" default="false" />
    <arg name="robot2" default="false" />
    <arg name="robot3" default="false" />
    <arg name="robot4" default="false" />
    <arg name="robot5" default="false" />
    <arg name="robot6" default="false" />
    <arg name="robot7" default="false" />
    <arg name="alpha" default="3" />
    <arg name="beta" default="9" />
    <arg name="gama1" default="0.3" />
    <arg name="gama2" default="0.3" />
    <arg name="gama3" default="0.3" />
    <arg name="n_size" default="1" />
    <arg name="sigma" default="0.1" />

    <param name="use_sim_time" value="true"/>

    <!-- run stage -->
    <node pkg="stage_ros" type="stageros" name="stageros" args="$(arg world_file)">
        <param name="base_watchdog_timeout" value="0.5"/>
    </node>

    <group if="$(arg robot0)">
        <group ns="robot_0">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_0"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <group if="$(arg robot1)">
        <group ns="robot_1">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_1"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <group if="$(arg robot2)">
        <group ns="robot_2">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_2"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <group if="$(arg robot3)">
        <group ns="robot_3">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_3"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <group if="$(arg robot4)">
        <group ns="robot_4">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_4"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <group if="$(arg robot5)">
        <group ns="robot_5">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_5"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <group if="$(arg robot6)">
        <group ns="robot_6">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_6"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <group if="$(arg robot7)">
        <group ns="robot_7">
            <include file="$(find pioneer3at)/launch/include/single_turtlebot.launch">
                <arg name="ns" value="robot_7"/>
                <arg name="alpha" default="$(arg alpha)"/>
                <arg name="beta" default="$(arg beta)"/>
                <arg name="gama1" default="$(arg gama1)"/>
                <arg name="gama2" default="$(arg gama2)"/>
                <arg name="gama3" default="$(arg gama3)"/>
                <arg name="n_size" default="$(arg n_size)"/>
                <arg name="sigma" default="$(arg sigma)"/>
            </include>
        </group>
    </group>

    <!-- run rviz -->
    <group if="$(arg rviz)">
        <node pkg="rviz" type="rviz" name="rviz" args="-d $(find pioneer3at)/rviz/exploration.rviz"/>
    </group>
</launch>
